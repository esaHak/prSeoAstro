---
/**
 * Component that wraps content and applies internal linking
 * Usage: Pass HTML content as a prop, get back HTML with internal links
 */
import { addInternalLinks, defaultConfig } from '../utils/internalLinking';
import type { PageContext } from '../utils/internalLinking/targetResolver';

interface Props {
  content: string; // HTML content to process
  context: PageContext; // Page context for link resolution
  config?: typeof defaultConfig; // Optional config override
}

const { content, context, config = defaultConfig } = Astro.props;

// Apply internal linking
const result = addInternalLinks(content, context, config);
---

<Fragment set:html={result.html} />
