---
/**
 * Root Page - Language Selector
 * Minimal, centered design matching the warm aesthetic
 * Allows users to choose their preferred language
 */

import BaseLayout from '../layouts/BaseLayout.astro';
import { resolveOgImage } from '../utils/images';
import { supportedLocales, localeLabels } from '../utils/i18n';

const base = import.meta.env.BASE_URL;
const siteBase = Astro.site?.toString() || 'https://prseoastro.pages.dev';

// Resolve OG image for homepage (uses default)
const ogImage = resolveOgImage({}, undefined, siteBase);

// Build language options
const languageOptions = supportedLocales.map(locale => ({
  locale,
  label: localeLabels[locale].full,
  url: `${base}${locale}/`
}));
---

<BaseLayout
  title="Programmatic SEO Glossary"
  description="A comprehensive resource for programmatic SEO strategies, techniques, and best practices"
  ogImage={ogImage}
  hideNav={true}
  hideFooter={true}
>
  <div class="homepage">
    <h1 class="homepage__title">Programmatic SEO Glossary</h1>
    <p class="homepage__subtitle">
      Select your language to explore our comprehensive SEO resources
    </p>

    <div class="homepage__languages">
      {languageOptions.map((option) => (
        <a href={option.url} class="homepage__language-btn">
          {option.label}
        </a>
      ))}
    </div>

    <p class="homepage__note">
      You will be redirected to the homepage in your selected language.
    </p>
  </div>
</BaseLayout>
