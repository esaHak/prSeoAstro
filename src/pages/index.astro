---
// Root Page - Language Selector
// Allows users to choose their preferred language

import BaseLayout from '../layouts/BaseLayout.astro';
import { resolveOgImage } from '../utils/images';
import { supportedLocales, localeLabels } from '../utils/i18n';

const base = import.meta.env.BASE_URL;
const siteBase = Astro.site?.toString() || 'https://prseoastro.pages.dev';

// Resolve OG image for homepage (uses default)
const ogImage = resolveOgImage({}, undefined, siteBase);

// Build language options
const languageOptions = supportedLocales.map(locale => ({
  locale,
  label: localeLabels[locale].full,
  url: `${base}${locale}/`
}));
---

<BaseLayout
  title="Programmatic SEO Demo"
  description="A demonstration of pillar and cluster page structure for programmatic SEO"
  ogImage={ogImage}
>
  <div style="text-align: center; padding: 3rem 1rem;">
    <h1>Welcome / Tervetuloa</h1>
    <p style="font-size: 1.2rem; margin: 1.5rem 0 2.5rem;">
      Please select your language / Valitse kielesi
    </p>

    <div style="display: flex; justify-content: center; gap: 2rem; flex-wrap: wrap;">
      {languageOptions.map((option) => (
        <a
          href={option.url}
          style="display: block; padding: 2rem 3rem; background: #f9f9f9; border: 2px solid #333; border-radius: 8px; text-decoration: none; color: #333; font-size: 1.3rem; font-weight: 500; transition: all 0.2s ease;"
        >
          {option.label}
        </a>
      ))}
    </div>

    <p style="margin-top: 3rem; color: #666; font-size: 0.9rem;">
      You will be redirected to the homepage in your selected language.
    </p>
  </div>
</BaseLayout>
